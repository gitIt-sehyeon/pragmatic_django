{% extends 'base.html' %}


{% block content %}

<style>
    .container div {
        width: 250px;
        background-color: antiquewhite;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 1rem;
    }

    .container img {
        width: 100%;
        border-radius: 1rem;
        height: 100%;
    }

</style>

<div class="container">
    <div class="item1">
        <img src="https://picsum.photos/200/300" alt="">
    </div>
    <div class="item2">
        <img src="https://picsum.photos/200/340" alt="">
    </div>
    <div class="item3">
        <img src="https://picsum.photos/200/310" alt="">
    </div>
    <div class="item4">
        <img src="https://picsum.photos/200/320" alt="">
    </div>
    <div class="item5">
        <img src="https://picsum.photos/200/280" alt="">
    </div>
    <div class="item6">
        <img src="https://picsum.photos/200/290" alt="">
    </div>
    <div class="item7">
        <img src="https://picsum.photos/200/311" alt="">
    </div>
    <div class="item8">
        <img src="https://picsum.photos/200/301" alt="">
    </div>
    <div class="item9">
        <img src="https://picsum.photos/200/302" alt="">
    </div>
    <div class="item10">
        <img src="https://picsum.photos/200/350" alt="">
    </div>
    <div class="item11">
        <img src="https://picsum.photos/200/290" alt="">
    </div>
    <div class="item12">
        <img src="https://picsum.photos/200/180" alt="">
    </div>
    <div class="item13">
        <img src="https://picsum.photos/200/150" alt="">
    </div>
</div>

<script src="https://unpkg.com/magic-grid/dist/magic-grid.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
    let magicGrid = new MagicGrid({
        container: '.container',
        animate: true,
        gutter: 30,
        static: true,
        useMin: true
    });
    magicGrid.listen();

    // 모든 이미지가 로드된 후 MagicGrid 재배치
    const images = document.querySelectorAll('.container img');
    const onAllImagesLoaded = () => {
        magicGrid.positionItems();
    };

    let loadedCount = 0;
    const totalImages = images.length;

    images.forEach((img) => {
        if (img.complete) {
            // 이미 로드된 이미지 처리
            loadedCount++;
        } else {
            img.addEventListener('load', () => {
                loadedCount++;
                if (loadedCount === totalImages) {
                    onAllImagesLoaded();
                }
            });
        }
    });

    if (loadedCount === totalImages) {
        onAllImagesLoaded();
    }
});
</script>

{% endblock %}